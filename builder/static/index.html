<!DOCTYPE html>
<html ng-app="connectorApp">
<head>
	<title>Builder</title>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.15/angular.min.js"></script>
	<script src="/static/connector.js" type="text/javascript"></script>
	<style type="text/css" media="screen">
		html,body,.content,.row,.col-lg-3{
			height: 100%;
		}
		.scrollable{
			max-height: 100%;
			overflow-y: scroll;
		}
		.images .thumbnail{
			width: 200px;
			height: 200px;
			display: inline-block;
			float: left;
		}
		.hero {
			height: 240px;
			overflow: hidden;
			text-align:center;
		}
		.hero div{
			display: inline-block;
			width: 300px;
			height: 100%;
			background-position: center center;
			background-size: cover;
			text-align: left;
		}
		.status{
			position: fixed;
			z-index: 10;
			color:white;
			background: #2f509a;
			border-top: 1px solid rgba(0,0,0,0.4);
			top:0;
			left:0;
			right:0;
		}
	</style>
</head>
<body>
<div class="container-fluid content" ng-controller='Connector'>
	<div class="status">{{status}}</div>
	<div class="row">
		<div class="col-lg-3">
			<ul class="nav nav-pills nav-stacked scrollable">
				<li ng-repeat="edge in edges" ng-click="$parent.show=edge;$parent.first=edge.id" ng-class="{active:$parent.first==edge.id}">
					<a href="#">{{ edge.title }}</a>
				</li>
			</ul>
		</div>
		<div class="col-lg-3">
			<ul class="nav nav-pills nav-stacked scrollable">
				<li ng-repeat="edge in edges">
					<a href="#" ng-click="$parent.show=edge">{{ edge.title }}
					<button class="btn btn-xs btn-success pull-right" ng-click="$parent.makePair(edge.id)"><span class="glyphicon glyphicon-ok"></span></button>
					<button class="btn btn-xs btn-primary pull-right" ng-click="$parent.needsReview(edge.id)"><span class="glyphicon glyphicon-eye-open"></span></button>
					</a>
				</li>
			</ul>
		</div>
		<div class="col-lg-6 scrollable">
			<div class="hero" ng-show="show.image">
				<div ng-style="{'background-image':'url('+show.image+')'}"><button class="btn btn-danger btn-xs" ng-click="show.image=''"><span class="glyphicon glyphicon-remove"></span></button></div>

			</div>
			<h2>{{show.title}}</h2>
			<p>{{show.description}}</p>
			<div class="images" ng-if="!show.image">
			    <a href="#" class="thumbnail" ng-repeat="image in show.images" ng-click="postImage($parent.show.id,image)">
			      <img ng-src="{{image}}">
			    </a>
			</div>
		</div>
	</div>
</div>
</body>
</html>